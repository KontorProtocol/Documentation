---
sidebar_position: 2
title: Testing
---

# Testing Environment Reference

## `Runtime`

Creates a runtime instance to simulate blockchain execution with `Runtime::new(config)`:
- Configures contracts via `RuntimeConfig::builder()`.
- Loads multiple contracts with `contracts(&[("name", &bytes)])` for testing transaction and query flows.

## Contract Loading

Handles loading compiled contract bytes for testing:

### `contract_bytes()`

Loads local contract bytes from `target/`, generated by `build.rs`.

### `dep_contract_bytes("name")`

Loads bytes from a dependent contractâ€™s `target/`, whose build was triggered by `Cargo.toml` dependencies.

## Import Macro

Registers contracts for test invocations with `import!(name, height, tx_index, path, test = true)`:
- Generates functions (e.g., `hello_world::hello_world(&runtime)`) for calling exported WIT methods.
- Supports versioning with `height` and `tx_index`.
- `mod_name` option allows aliasing for proxied or variant imports (e.g., in `sigil-example-contracts/proxy`).

## Testing Setup

- `#[tokio::test]`: Marks async test functions.
- Invocations: Call exported functions via generated modules, passing `Runtime` and arguments (e.g., signer for `proc` calls) to mimic blockchain transactions.
- Assertions: Use `assert_eq!` to verify outputs, storage changes, or errors, ensuring correct blockchain behavior.
